# Variable-LSC
This code used to calculate Variable Length scale calibration of the 2018 pp Run fill 6868 
1- run "legacy_data/find_files.py" to get the input files for analysis which will called "filesForScan.pkl"
2- check "stepsize_using_headonstep_asstandard.ods" which contains all the calculations for the two beams positions and seperations with/without step size & with/without outliers removals.
3- To determine the maximum beams overlap: a) run "legacy_data/vdm_fits_determine_max_beams_overlap/vdmfit_data_legacy.c" to git the "num vtx / (num events * intensity beam1 * intensity beam2" and its errors for each miniscan step. b) Using the vdmfit data information we can determine the maximum beams overlap and the error for different beams seperation calculations, for example if we want to calculate the maximum beams overlap when the beams seperation calculated after step size calculations using the average step size for all one beam scan using only arc values we run "legacy_data/vdm_fits_determine_max_beams_overlap/mini_each_beam/num_vtx_all_arc.c"
4- using the maximum beams overlap values and its errors we can find the true beam spot positions (the beamspot position at maximum beam overlap) for different beams seperation calculations,for example if we want to calculate the beamspot position at maximum beam overlap when the beams seperation calculated after step size calculations using the average step size for all one beam scan we run "legacy_data/step1/each_beam_seperately.py"
5- calculate the LS correction and uncertainty by plotting the beamspot positions at maximum beams overlap as a function of the scanned beam position (bump amplitude). for example if you want to calculate the LS correction and its uncertainty when the beams seperation calculated after step size calculations using the average step size for all one beam scan and the bump amplitude calculated after step size with removing the outliers we run "legacy_data/step2/with_jousha/each_beam/beambumb_each_beam_at_zero_seperation/analysis_step2.py" 
6- By filling the script "legacy_data/var_LSC_calculations_legacy_beambumb_at_zero_seperation_perbeam.py" we can calculate the correction and the uncertainty to sigma visible due to LS .
7- To calculate the var LSC using old data use the same procedure with "old_data" directory.
